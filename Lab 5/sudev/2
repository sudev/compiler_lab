main:
IN R0
PUSH R1
MOV R1, 0
MOV [R1], R0
POP R1
PUSH R1
MOV R1, 0
MOV R0, [R1]
POP R1
OUT R0
MOV R0, 5
OUT R0
MOV R0, 1
MOV [BP], R0
RET

START
MOV R0, 12
MOV SP, R0
MOV R1, 1
ADD R0, R1
MOV SP, R0
MOV R1, 0
SUB R0, R1
MOV BP, R0
CALL main
MOV R0, [BP]
OUT R0
die:
HALT
error:
MOV R0, -1
OUT R0
JMP die
